<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Total Connect NFC</title>
    <script>
        // Get the hash and remove the # symbol
        const hash = window.location.hash.substring(1); 

        if (hash) {
            // Whitelist only safe characters: letters, numbers, hyphens, underscores
            const cleanHash = hash.replace(/[^a-zA-Z0-9-_]/g, ''); 
            
            if (cleanHash) {
                // Safe redirect with sanitized hash
                window.location.href = `/profile/#${cleanHash}`;
            } else {
                // Empty/invalid hash → 404
                window.location.href = '/404.html';
            }
        } else {
            // No hash → 404
            window.location.href = '/404.html';
        }
    </script>
</head>
<body>
    Redirecting...
</body>
</html>